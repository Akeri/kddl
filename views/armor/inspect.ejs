<ol class="breadcrumb">
  <li><a href="/">Home</a></li>
  <li><a href="/armor">Armor</a></li>
  <li class="active">Inspect</li>
</ol>

<div>
  <!-- TABS -->
  <ul class="nav nav-tabs bg-default">
    <li>
      <a href="/armor/crawler">Armor Crawler</a>
    </li>
    <li class="active">
      <a>Inspect specific</a>
    </li>
  </ul>
  <!-- /TABS -->
  
  <div class="tab-content">
    <div class="tab-pane fade active in">
  
      <div class="panel panel-default panel-body">
        <p>This allows to synchronize one specific armor from its wikia page address.</p>
        <div class="form-group">
          <h4>
            <label for="wikia-uri">Wikia page</label><br />
            <small class="text-default">for example: <i>http://knights-and-dragons.wikia.com/wiki/Lilith%27s_Mantle</i></small>
          </h4>
          <div class="input-group">
            <span class="input-group-addon">
              <i class="fa fa-globe inspect-not-in-progress"></i>
              <i class="fa fa-cog fa-spin inspect-in-progress" style="display:none;"></i>
            </span>
            <input type="url" class="form-control" id="wikia-uri" placeholder="write the page address..."
              <% if (armor){ %> value="<%- sails.services.wikiacrawler.wikiaUri + armor.wikiaLink %>" <% } %> />
          </div>
          <div style="text-align:center;margin-top:10px;">
	          <button id="start-inspecting" type="button" class="btn btn-lg btn-primary" style="font-size:14px;">
	            <i class="glyphicon glyphicon-cloud-download" style="margin-right:5px;"></i> Inspect
	          </button>
<!-- 	          <button id="stop-inspecting" type="button" class="btn btn-danger"> -->
<!-- 	            Stop -->
<!-- 	          </button> -->
	          <button id="restart-inspecting" type="button" class="btn btn-primary">
	            Reset
	          </button>
          </div>
        </div>
      </div>
  
    </div>
  </div>
  
</div>
  
  
<div class="panel panel-default shown-while-crawling" style="display:none;">
  <div class="panel-heading">
    <h4>New armors</h4>
  </div>
  <div class="panel-body">
    <p class="pull-right" style="line-height:30px;">
      Found <span id="new-results-counter" style="font-weight:bold;">0</span> new armors
    </p>
    <ul id="new-results-container" class="list-group" style="margin:40px 0 0 0;"></ul>
  </div>
</div>

<div class="panel panel-default shown-while-crawling" style="display:none;">
  <div class="panel-heading">
    <h4>Updated armors</h4>
  </div>
  <div class="panel-body">
    <p class="pull-right" style="line-height:30px;">
      Updated <span id="updated-results-counter" style="font-weight:bold;">0</span> armors
    </p>
    <ul id="updated-results-container" class="list-group" style="margin:40px 0 0 0;"></ul>
  </div>
</div>

<li class="armor-item-templ list-group-item" style="
    overflow:hidden;
    padding:5px;
    display:none;
    position:relative;
">
  <div class="armor-mainpic pull-left" style="
    width:60px;
    height:60px;
    background-size:auto 60px;
    background-repeat:no-repeat;
  "></div>
  <div class="armor-name pull-left" style="
    height:60px;
    line-height:60px;
    position:absolute;
    left:66px;
    right:0;
    overflow:hidden;
    text-overflow:ellipsis;
  ">&nbsp;</div>
</li>

<div id="dialog-missing-addr" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Missing address</h4>
      </div>
      <div class="modal-body">
        <p>You forgot to write the page address</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="dialog-error-inspecting" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Error</h4>
      </div>
      <div class="modal-body">
        <div class="row">
          <div class="col-xs-2">
            <i class="fa fa-frown-o" style="font-size:48px;"></i>
          </div>
          <div class="col-xs-10">
            Got an error while inspecting the address. You sure that page is working?
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<div id="dialog-finished-inspecting" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Finished</h4>
      </div>
      <div class="modal-body">
        <p>The inspection has finished. Accept to see results</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Ok</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

<% block("localScripts", "<script src='/dynamics/armor/inspect.js'></script>") %>